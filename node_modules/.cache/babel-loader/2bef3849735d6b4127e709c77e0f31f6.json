{"ast":null,"code":"var _jsxFileName = \"/home/jonathan/Documentos/cefet-web-tp/client/src/componentes/IndexPage/Login.js\";\nimport React, { Component } from \"react\";\nimport Modal from 'react-bootstrap/Modal';\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport { Link, withRouter } from 'react-router-dom';\nimport './loginAndRegister.css';\nimport Facebook from './FacebookLoginButton';\nimport { login } from \"../UserFunctions\";\nimport { userStatus } from \"../World/components/widgets/cardProfile/cardUtils\";\n\nconst jwt = require(\"jsonwebtoken\");\n\nclass Login extends Component {\n  constructor(props, context) {\n    super(props, context);\n    this.handleShow = this.handleShow.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n    this.state = {\n      email: '',\n      password: '',\n      show: false\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n  }\n\n  onChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  onSubmit(e) {\n    e.preventDefault();\n    const user = {\n      email: this.state.email,\n      password: this.state.password\n    };\n    login(user).then(res => {\n      if (res) {\n        this.props.history.push('/World' + jwt.decode(localStorage.usertoken).id);\n      }\n    });\n  }\n\n  handleClose() {\n    this.setState({\n      show: false\n    });\n  }\n\n  handleShow() {\n    this.setState({\n      show: true\n    });\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(Button, {\n      variant: \"secondary mrl-small textBlueColor buttons\",\n      onClick: this.handleShow,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, \"Login \"), \" \", React.createElement(Modal, {\n      show: this.state.show,\n      onHide: this.handleClose,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(Modal.Header, {\n      closeButton: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(Modal.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \" Login \"), \" \"), \" \", React.createElement(Modal.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(Form.Group, {\n      controlId: \"formBasicEmail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \" Email \"), \" \", React.createElement(Form.Control, {\n      name: \"email\",\n      value: this.state.email,\n      onChange: this.onChange,\n      type: \"email\",\n      placeholder: \"Enter email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    })), \" \", React.createElement(Form.Group, {\n      controlId: \"formBasicPassword\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(Form.Label, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \" Senha \"), \" \", React.createElement(Form.Control, {\n      name: \"password\",\n      value: this.state.password,\n      onChange: this.onChange,\n      type: \"password\",\n      placeholder: \"Password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    })), \" \", React.createElement(Button, {\n      variant: \"primary center blueBackgroundColor textGoldColor\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/myWorld\",\n      onClick: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \" LOGIN \"), \" \"), \" \", React.createElement(Button, {\n      variant: \"primary center blueBackgroundColor textGoldColor\",\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(Link, {\n      onClick: this.userStatus,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \" teste \"), \" \"), \" \", React.createElement(Facebook, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    })), \" \"), \" \"), \" \");\n  }\n\n}\n\nexport default withRouter(Login);","map":{"version":3,"sources":["/home/jonathan/Documentos/cefet-web-tp/client/src/componentes/IndexPage/Login.js"],"names":["React","Component","Modal","Button","Form","Link","withRouter","Facebook","login","userStatus","jwt","require","Login","constructor","props","context","handleShow","bind","handleClose","state","email","password","show","onChange","onSubmit","e","setState","target","name","value","preventDefault","user","then","res","history","push","decode","localStorage","usertoken","id","render"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,uBAAlB;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,IAAP,MAAiB,sBAAjB;AACA,SAASC,IAAT,EAAeC,UAAf,QAAiC,kBAAjC;AAEA,OAAO,wBAAP;AACA,OAAOC,QAAP,MAAqB,uBAArB;AACA,SAASC,KAAT,QAAsB,kBAAtB;AACA,SAASC,UAAT,QAA2B,mDAA3B;;AACA,MAAMC,GAAG,GAAGC,OAAO,CAAC,cAAD,CAAnB;;AAEA,MAAMC,KAAN,SAAoBX,SAApB,CAA8B;AAC1BY,EAAAA,WAAW,CAACC,KAAD,EAAQC,OAAR,EAAiB;AACxB,UAAMD,KAAN,EAAaC,OAAb;AAEA,SAAKC,UAAL,GAAkB,KAAKA,UAAL,CAAgBC,IAAhB,CAAqB,IAArB,CAAlB;AACA,SAAKC,WAAL,GAAmB,KAAKA,WAAL,CAAiBD,IAAjB,CAAsB,IAAtB,CAAnB;AAEA,SAAKE,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAE,EADE;AAETC,MAAAA,QAAQ,EAAE,EAFD;AAGTC,MAAAA,IAAI,EAAE;AAHG,KAAb;AAMA,SAAKC,QAAL,GAAgB,KAAKA,QAAL,CAAcN,IAAd,CAAmB,IAAnB,CAAhB;AACA,SAAKO,QAAL,GAAgB,KAAKA,QAAL,CAAcP,IAAd,CAAmB,IAAnB,CAAhB;AACH;;AAEDM,EAAAA,QAAQ,CAACE,CAAD,EAAI;AACR,SAAKC,QAAL,CAAc;AACV,OAACD,CAAC,CAACE,MAAF,CAASC,IAAV,GAAiBH,CAAC,CAACE,MAAF,CAASE;AADhB,KAAd;AAEH;;AAEDL,EAAAA,QAAQ,CAACC,CAAD,EAAI;AACRA,IAAAA,CAAC,CAACK,cAAF;AAEA,UAAMC,IAAI,GAAG;AACTX,MAAAA,KAAK,EAAE,KAAKD,KAAL,CAAWC,KADT;AAETC,MAAAA,QAAQ,EAAE,KAAKF,KAAL,CAAWE;AAFZ,KAAb;AAKAb,IAAAA,KAAK,CAACuB,IAAD,CAAL,CAAYC,IAAZ,CAAiBC,GAAG,IAAI;AACpB,UAAIA,GAAJ,EAAS;AACL,aAAKnB,KAAL,CAAWoB,OAAX,CAAmBC,IAAnB,CAAwB,WAAWzB,GAAG,CAAC0B,MAAJ,CAAWC,YAAY,CAACC,SAAxB,EAAmCC,EAAtE;AACH;AACJ,KAJD;AAKH;;AAEDrB,EAAAA,WAAW,GAAG;AACV,SAAKQ,QAAL,CAAc;AAAEJ,MAAAA,IAAI,EAAE;AAAR,KAAd;AACH;;AAEDN,EAAAA,UAAU,GAAG;AACT,SAAKU,QAAL,CAAc;AAAEJ,MAAAA,IAAI,EAAE;AAAR,KAAd;AACH;;AAEDkB,EAAAA,MAAM,GAAG;AACL,WAAS,0CAEL,oBACA,MADA;AACO,MAAA,OAAO,EAAG,2CADjB;AAEA,MAAA,OAAO,EAAK,KAAKxB,UAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFK,OAMI,oBACT,KADS;AACH,MAAA,IAAI,EAAK,KAAKG,KAAL,CAAWG,IADjB;AAET,MAAA,MAAM,EAAK,KAAKJ,WAFP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAGT,oBACA,KADA,CACM,MADN;AACa,MAAA,WAAW,MADxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEA,oBACA,KADA,CACM,KADN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFA,MAHS,OAOM,oBACf,KADe,CACT,IADS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEf,oBACA,IADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEA,oBACA,IADA,CACK,KADL;AACW,MAAA,SAAS,EAAG,gBADvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEA,oBACA,IADA,CACK,KADL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFA,OAGkC,oBAClC,IADkC,CAC7B,OAD6B;AACrB,MAAA,IAAI,EAAG,OADc;AAElC,MAAA,KAAK,EAAK,KAAKC,KAAL,CAAWC,KAFa;AAGlC,MAAA,QAAQ,EAAK,KAAKG,QAHgB;AAIlC,MAAA,IAAI,EAAG,OAJ2B;AAKlC,MAAA,WAAW,EAAG,aALoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHlC,CAFA,OAYa,oBACb,IADa,CACR,KADQ;AACF,MAAA,SAAS,EAAG,mBADV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEb,oBACA,IADA,CACK,KADL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFa,OAGqB,oBAClC,IADkC,CAC7B,OAD6B;AACrB,MAAA,IAAI,EAAG,UADc;AAElC,MAAA,KAAK,EAAK,KAAKJ,KAAL,CAAWE,QAFa;AAGlC,MAAA,QAAQ,EAAK,KAAKE,QAHgB;AAIlC,MAAA,IAAI,EAAG,UAJ2B;AAKlC,MAAA,WAAW,EAAG,UALoB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHrB,CAZb,OAsBa,oBACb,MADa;AACN,MAAA,OAAO,EAAG,kDADJ;AAEb,MAAA,IAAI,EAAG,QAFM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAGb,oBACA,IADA;AACK,MAAA,EAAE,EAAG,UADV;AAEA,MAAA,OAAO,EAAK,KAAKC,QAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAHa,MAtBb,OA4BS,oBACT,MADS;AACF,MAAA,OAAO,EAAG,kDADR;AAET,MAAA,IAAI,EAAG,QAFE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAGT,oBACA,IADA;AACK,MAAA,OAAO,EAAK,KAAKf,UADtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAHS,MA5BT,OAiCS,oBACT,QADS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAjCT,CAFe,MAPN,MANJ,MAAT;AAwDH;;AAtGyB;;AAyG9B,eAAeH,UAAU,CAACM,KAAD,CAAzB","sourcesContent":["import React, { Component } from \"react\"\nimport Modal from 'react-bootstrap/Modal'\nimport Button from 'react-bootstrap/Button'\nimport Form from 'react-bootstrap/Form'\nimport { Link, withRouter } from 'react-router-dom'\n\nimport './loginAndRegister.css'\nimport Facebook from './FacebookLoginButton'\nimport { login } from \"../UserFunctions\"\nimport { userStatus } from \"../World/components/widgets/cardProfile/cardUtils\"\nconst jwt = require(\"jsonwebtoken\")\n\nclass Login extends Component {\n    constructor(props, context) {\n        super(props, context);\n\n        this.handleShow = this.handleShow.bind(this);\n        this.handleClose = this.handleClose.bind(this);\n\n        this.state = {\n            email: '',\n            password: '',\n            show: false,\n        };\n\n        this.onChange = this.onChange.bind(this)\n        this.onSubmit = this.onSubmit.bind(this)\n    }\n\n    onChange(e) {\n        this.setState({\n            [e.target.name]: e.target.value })\n    }\n\n    onSubmit(e) {\n        e.preventDefault()\n\n        const user = {\n            email: this.state.email,\n            password: this.state.password\n        }\n\n        login(user).then(res => {\n            if (res) {\n                this.props.history.push('/World' + jwt.decode(localStorage.usertoken).id)\n            }\n        })\n    }\n\n    handleClose() {\n        this.setState({ show: false });\n    }\n\n    handleShow() {\n        this.setState({ show: true });\n    }\n\n    render() {\n        return ( <\n            >\n            <\n            Button variant = \"secondary mrl-small textBlueColor buttons\"\n            onClick = { this.handleShow } >\n            Login <\n            /Button> <\n            Modal show = { this.state.show }\n            onHide = { this.handleClose } >\n            <\n            Modal.Header closeButton >\n            <\n            Modal.Title > Login < /Modal.Title> <\n            /Modal.Header> <\n            Modal.Body >\n            <\n            Form >\n            <\n            Form.Group controlId = \"formBasicEmail\" >\n            <\n            Form.Label > Email < /Form.Label> <\n            Form.Control name = \"email\"\n            value = { this.state.email }\n            onChange = { this.onChange }\n            type = \"email\"\n            placeholder = \"Enter email\" / >\n            <\n            /Form.Group> <\n            Form.Group controlId = \"formBasicPassword\" >\n            <\n            Form.Label > Senha < /Form.Label> <\n            Form.Control name = \"password\"\n            value = { this.state.password }\n            onChange = { this.onChange }\n            type = \"password\"\n            placeholder = \"Password\" / >\n            <\n            /Form.Group> <\n            Button variant = \"primary center blueBackgroundColor textGoldColor\"\n            type = \"submit\" >\n            <\n            Link to = '/myWorld'\n            onClick = { this.onSubmit } > LOGIN < /Link> <\n            /Button> <\n            Button variant = \"primary center blueBackgroundColor textGoldColor\"\n            type = \"submit\" >\n            <\n            Link onClick = { this.userStatus } > teste < /Link> <\n            /Button> <\n            Facebook / >\n            <\n            /Form> <\n            /Modal.Body> <\n            /Modal> <\n            />\n        );\n    }\n}\n\nexport default withRouter(Login)"]},"metadata":{},"sourceType":"module"}